# Build Tools

Build Tools are scripts used to build a custom image derived from AutoSD.

## Table of Contents

- [Prerequisites](#prerequisites)
- [Usage](#usage)
- [Configure the Image](#configure-the-image)
- [Build the Image](#build-the-image)

## Prerequisites

1. **Download the Pre-built AutoSD Image**

   Download the pre-built AutoSD image from the following URL:

   [AutoSD Image](https://autosd.sig.centos.org/AutoSD-9/nightly/sample-images/)

2. **Download the Setup Script for the Ubuntu Host**

   Run the following command to download the setup script:

   wget https://raw.githubusercontent.com/ChrisBale11/osbuild/v.0.1/setup-ubuntu

3. **Change the Permissions of the Setup Script**

    Make the setup script executable:

    $  chmod +x setup-ubuntu

4. **Set Up the Operational Environment** 

    Run the setup script to configure the operational environment:  

    $  . setup-ubuntu

# Usage 

1. **Log in as root**

    Login as  : root 
    Password  : password

2. **Download the setup script for build env**

    $ wget https://raw.githubusercontent.com/ChrisBale11/osbuild/v.0.1/setup-build-env

3. **Change the permissions of a file**

    $ chmod +x setup-build-env

4. **Set up the build env**

    $ . setup-build-env


# Configure the image

You can config the image via image-patch.ipp.yml
** 
version: '2'
dirived_from: 'f40'  <this parameter tell to osbuild the distro will be derived> (eg. cs9, autosd, eln,f39,f40)
mpp-vars:
  distro_repos:
    - id: <id name>
      baseurl: <your repo url>
  extra_rpms:       # add your rpms
    - rpm package 1
    - rpm package 2
    - ...
    - rpm package n

Addition, you can add other parameters to config the image. However this version of tools only support for the above parameters 

# Build the image

    $ . build-custom-image

This script will install tools for python
First : apply the image-patch.ipp.yml with the available distro yml to create new yml file "custom.ipp.yml". It has been put in sample-images/automotive-image-builder/distro
Second: Nagative osbuild-manifest run the makefile to start the build







